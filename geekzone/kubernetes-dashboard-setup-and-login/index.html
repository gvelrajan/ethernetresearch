<!doctype html><html lang=en><head><title>Kubernetes Dashboard Setup and Login - Ethernet Research</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Ethernet Research: Actionable information about cloud technologies at your fingertips"><meta name=author content="Ganesh Velrajan"><meta property="og:title" content="Kubernetes Dashboard Setup and Login"><meta property="og:description" content="Deploy the Dashboard UI: master$ kubectl create -f https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard.yaml  We can either directly talk to the API server to connect to the dashboard or if we would like to use the &ldquo;kubectl&rdquo; command then we should run the following proxy command."><meta property="og:type" content="article"><meta property="og:url" content="https://gvelrajan.github.io/ethernetresearch/geekzone/kubernetes-dashboard-setup-and-login/"><meta property="og:image" content="https://gvelrajan.github.io/images/kubernetes/kubernetes.jpg"><meta property="article:published_time" content="2018-10-24T00:00:00+00:00"><meta property="article:modified_time" content="2018-10-24T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://gvelrajan.github.io/images/kubernetes/kubernetes.jpg"><meta name=twitter:title content="Kubernetes Dashboard Setup and Login"><meta name=twitter:description content="Deploy the Dashboard UI: master$ kubectl create -f https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard.yaml  We can either directly talk to the API server to connect to the dashboard or if we would like to use the &ldquo;kubectl&rdquo; command then we should run the following proxy command."><meta name=generator content="Hugo 0.79.1"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><link rel=stylesheet href=https://gvelrajan.github.io/ethernetresearch/fontawesome/css/all.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda"><link rel=stylesheet type=text/css href=https://gvelrajan.github.io/ethernetresearch/css/styles.css></head><body><div id=container><header><h1><a href=https://gvelrajan.github.io/ethernetresearch/>Ethernet Research</a></h1><ul id=social-media><li><a href=https://linkedin.com/in/username title=LinkedIn><i class="fab fa-linkedin fa-lg"></i></a></li><li><a href=https://www.youtube.com/channel/UCnmHCstjZcevizOQ0qmANlw title=Youtube><i class="fab fa-youtube fa-lg"></i></a></li></ul><p><em>Actionable information about cloud technologies</em></p></header><nav><ul><li><a href=https://gvelrajan.github.io/ethernetresearch/geekzone/><i class="fa-li fa fa-lg"></i><span>GeekZone</span></a></li><li><a href=https://gvelrajan.github.io/ethernetresearch/articles/><i class="fa-li fa fa-lg"></i><span>Articles</span></a></li><li><a href=https://gvelrajan.github.io/ethernetresearch/about/><i class="fa-li fa fa-lg"></i><span>About Us</span></a></li><li><a href=https://gvelrajan.github.io/ethernetresearch/online-courses-training/><i class="fa-li fa fa-lg"></i><span>Online Courses</span></a></li><li><a href=https://gvelrajan.github.io/ethernetresearch/contact/><i class="fa-li fa fa-lg"></i><span>Contact</span></a></li></ul></nav><main><article><h1>Kubernetes Dashboard Setup and Login</h1><aside><ul><li><time class=post-date datetime=2018-10-24T00:00:00Z>Oct 24, 2018</time></li><li>Categories:
<em><a href=https://gvelrajan.github.io/ethernetresearch/categories/geekzone>GeekZone</a>
,
<a href=https://gvelrajan.github.io/ethernetresearch/categories/kubernetes>Kubernetes</a></em></li><li><em><a href=https://gvelrajan.github.io/ethernetresearch/tags/container>#Container</a>
,
<a href=https://gvelrajan.github.io/ethernetresearch/tags/docker>#Docker</a>
,
<a href=https://gvelrajan.github.io/ethernetresearch/tags/kubernetes>#Kubernetes</a>
,
<a href=https://gvelrajan.github.io/ethernetresearch/tags/dashboard>#Dashboard</a></em></li><li>2 minute read</li></ul></aside><div class=featured_image><a href=https://gvelrajan.github.io/ethernetresearch/geekzone/kubernetes-dashboard-setup-and-login/ title="Kubernetes Dashboard Setup and Login"><img src=https://gvelrajan.github.io/ethernetresearch/images/kubernetes/kubernetes.jpg></a></div><h2 id=deploy-the-dashboard-ui>Deploy the Dashboard UI:</h2><pre><code>master$ kubectl create -f https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard.yaml
</code></pre><p>We can either directly talk to the API server to connect to the dashboard or if we would like to use the &ldquo;kubectl&rdquo; command then we should run the following proxy command. This command is a blocking call.</p><pre><code>master$ kubectl proxy
Starting to serve on 127.0.0.1:8001
</code></pre><p> </p><h2 id=creating-admin-token-for-login>Creating Admin Token for Login:</h2><p>Now open another terminal window in the master node and execute the following commands to the create the admin token for login to the Dashboard.</p><p>Create the service account first using the following YAML file.  You can name the file anything.</p><pre><code>master$ cat service-account.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: admin-user
  namespace: kube-system

master$ kubectl create -f service-account.yaml
serviceaccount/admin-user created
</code></pre><p>The admin Role already exists in the cluster. We can use it for login. We just need to create only RoleBinding for the ServiceAccount we create above.</p><pre><code>master$ cat role-binding.yaml
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: ClusterRoleBinding
metadata:
  name: admin-user
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-admin
subjects:
- kind: ServiceAccount
  name: admin-user
  namespace: kube-system

master$ kubectl create -f role-binding.yaml
clusterrolebinding.rbac.authorization.k8s.io/admin-user created
</code></pre><p>Now let&rsquo;s find the token we need to use to login.</p><pre><code>master$ kubectl -n kube-system describe secret $(kubectl -n kube-system get secret | grep admin-user | awk '{print $1}')
Name:         admin-user-token-6bphj
Namespace:    kube-system
Labels:       
Annotations:  kubernetes.io/service-account.name=admin-user
              kubernetes.io/service-account.uid=b472e305-a92c-11e8-85f8-0800277d1239
Type: kubernetes.io/service-account-token

Data
====
token: eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi11c2VyLXRva2VuLTZicGhqIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImFkbWluLXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiJiNDcyZTMwNS1hOTJjLTExZTgtODVmOC0wODAwMjc3ZDEyMzkiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZS1zeXN0ZW06YWRtaW4tdXNlciJ9.TFkjDjoz5crJ0JTupCFSY-qLmoFgxhiy_Js69JALlzs6Uof7Y2CSHpLo_7F_8xiOPlnVvWibXGh6CslXPTH87L-8uYCDpYfYoQBfl0nJjFqP1860IaoJIEdaRYshEvd4RHtZbRiN82zTEDeXMozuwKK3_wQyFf1eZMHcyWtt94KW3_kuGM6DvsdkDM59aKU1LiWif4cRXghnXy0yiEEwcCREwxRqDShzX5I3ne_hN04AnR7DM_r8Tjw0VgTOil7X3UTEZ0BD13tpdgA2K4xb551lQQC6Jr-p5bf1-fLa7sA7ztzxKRZt7rm4A8tDHNve5WPfesOtODPz4L7IAGx1nQ
ca.crt: 1025 bytes
namespace: 11 bytes
</code></pre><p>Now point the browser to the following URL:</p><p>http://localhost:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/</p><p>Input the token we got from the above output into the token field below.</p><p><img src=http://www.thetechzone.in/wp-content/uploads/2018/09/K8-Dashboard1.jpg alt="Kubernetes Dashboard Login">{.wp-image-48 .size-full width=&ldquo;640&rdquo; height=&ldquo;276&rdquo;}
<strong>Kubernetes Dashboard Login Screen</strong></p><p>After we login, we can access the pods and deployments in the Kubernetes dashboard.</p><p><img src=http://www.thetechzone.in/wp-content/uploads/2018/09/K8-Dashboard2.jpg alt="Kubernetes Dashboard Setup">
<strong>Kubernetes Dashboard</strong></p></article><section class=post-nav><ul><li><a href=https://gvelrajan.github.io/ethernetresearch/geekzone/kubernetes-horizontal-pod-autoscaler-and-metric-server/><i class="fa fa-chevron-circle-left"></i>Kubernetes Horizontal Pod Autoscaler and Metric Server</a></li><li><a href=https://gvelrajan.github.io/ethernetresearch/geekzone/kubernetes-how-to-install-minikube-in-a-vm/>Kubernetes - How to Install Minikube in a VM <i class="fa fa-chevron-circle-right"></i></a></li></ul></section></main><footer><h6>Copyright © 2021 - Ethernet Research | All Rights Reserved.</h6></footer></div><script src=https://gvelrajan.github.io/ethernetresearch/js/scripts.js></script></body></html>